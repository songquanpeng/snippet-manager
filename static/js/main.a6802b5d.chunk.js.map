{"version":3,"sources":["theme.js","reducers/SettingDialog.js","reducers/Token.js","reducers/index.js","reducers/Setting.js","reducers/Toast.js","utils/constant.js","store.js","components/TopBar.js","components/TagList.js","components/SnippetList.js","components/Snippet.js","hooks/settingForm.js","utils/token.js","components/Toast.js","components/Layout.js","utils/setting.js","views/NotFoundView.js","routes.js","App.js","index.js"],"names":["mainTheme","createMuiTheme","palette","primary","blue","secondary","red","main","SettingDialog","state","action","type","open","payload","Token","token","combineReducers","reducers","newState","key","Setting","Toast","style","statusCode","toastType","initialState","username","password","server","message","duration","Context","createContext","Store","children","useReducer","Reducer","dispatch","Provider","value","useStyles","makeStyles","theme","grow","flexGrow","menuButton","marginRight","spacing","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","fade","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","root","appBar","zIndex","drawer","easing","sharp","leavingScreen","hide","TopBar","useContext","classes","React","useState","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","onClose","MenuItem","onClick","mobileMenuId","renderMobileMenu","IconButton","aria-label","Badge","badgeContent","aria-controls","aria-haspopup","className","AppBar","Toolbar","edge","Typography","variant","noWrap","InputBase","placeholder","input","inputProps","drawerWidth","flexShrink","drawerPaper","drawerContainer","overflow","tags","text","link","TagList","Drawer","paper","List","map","tag","index","ListItem","button","component","Link","to","ListItemIcon","ListItemText","marginTop","top","left","snippets","SnippetList","Paper","snippet","snackTimeout","undefined","Transition","forwardRef","props","ref","Slide","direction","Snippet","delete","a","copy","navigator","clipboard","writeText","code","onChange","newValue","draft","localStorage","setItem","setState","snippet2draft","language","description","draft2snippet","lines","split","firstTripleBacktickPos","secondTripleBacktickPos","i","length","trim","startsWith","descriptionStartPos","substr","slice","join","showEditorDialog","showEditor","closeEditorDialog","applyChange","needRenderMarkdown","renderedDescription","marked","loading","fontSize","showSnackbar","snackMessage","this","loadEditorConfig","getItem","parseInt","mode","name","setOptions","useWorker","clearTimeout","setTimeout","Snackbar","Button","marginBottom","Dialog","fullScreen","TransitionComponent","background","boxShadow","fill","renderEditor","renderTopPanel","gutterBottom","dangerouslySetInnerHTML","__html","renderSnackbar","renderEditorDialog","Component","useSettingForm","setting","setSetting","target","endsWith","refreshToken","axios","post","res","data","console","error","Alert","elevation","handleClose","reason","autoHideDuration","severity","content","Layout","handleInputChange","useEffect","log","loadSetting","CssBaseline","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","margin","label","fullWidth","DialogActions","success","Object","entries","saveSetting","NotFoundView","routes","path","element","App","e","document","getElementById","classList","add","outerHTML","routing","useRoutes","ThemeProvider","ReactDOM","render","StrictMode"],"mappings":"kQAIMA,EAAYC,YAAe,CAC/BC,QAAS,CACPC,QAASC,IACTC,UAAWC,O,GAIKL,YAAe,CACjCC,QAAS,CACPC,QAAS,CACPI,KAAM,WAERF,UAAW,CACTE,KAAM,c,mTCNGC,EAXO,SAACC,EAAOC,GAC5B,OAAQA,EAAOC,MACb,IAAK,qBACH,MAAO,CACLC,KAAMF,EAAOG,SAEjB,QACE,OAAOJ,ICIEK,EAXD,SAACL,EAAOC,GACpB,OAAQA,EAAOC,MACb,IAAK,YACH,MAAO,CACLI,MAAOL,EAAOG,SAElB,QACE,OAAOJ,I,QCSEO,EAVS,SAACC,GACvB,OAAO,SAACR,EAAOC,GACb,IAAMQ,EAAW,GACjB,IAAK,IAAIC,KAAOF,EACdC,EAASC,GAAOF,EAASE,GAAKV,EAAMU,GAAMT,GAE5C,OAAOQ,GAIIF,CAAgB,CAAER,gBAAeM,QAAOM,QChBvC,SAACX,EAAOC,GACtB,OAAQA,EAAOC,MACb,IAAK,cACH,OAAO,eACFD,EAAOG,SAEd,QACE,OAAOJ,IDSmDY,MEhBlD,SAACZ,EAAOC,GACpB,OAAQA,EAAOC,MACb,IAAK,aACH,OAAO,uCACFF,GACAC,EAAOG,SAFZ,IAGED,MAAM,IAEV,IAAK,cACH,OAAO,2BACFH,GADL,IAEEG,MAAM,IAEV,QACE,OAAOH,MCdAa,GACG,IADHA,GAEO,IAFPA,GAGG,GAGHC,GACD,IAQCC,GACJ,QADIA,GAGL,OAHKA,GAIF,U,QCfLC,GAAe,CACnBjB,cAAe,CACbI,MAAM,GAERE,MAAO,GACPM,QAAS,CACPM,SAAU,GACVC,SAAU,GACVC,OAAQ,8CAEVP,MAAO,CACLT,MAAM,EACNiB,QAAS,GACTC,SAAU,IACVnB,KAAMa,KAWGO,GAAUC,wBAAcP,IACtBQ,GARD,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACJC,qBAAWC,EAASX,IADhB,mBACvBhB,EADuB,KAChB4B,EADgB,KAE9B,OACE,eAACN,GAAQO,SAAT,CAAkBC,MAAO,CAAC9B,EAAO4B,GAAjC,SAA6CH,KCNjD,IAAMM,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,SAAU,GAEZC,WAAY,CACVC,YAAaJ,EAAMK,QAAQ,IAE7BC,MAAM,aACJC,QAAS,QACRP,EAAMQ,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,UAGbG,OAAO,aACLC,SAAU,WACVC,aAAcZ,EAAMa,MAAMD,aAC1BE,gBAAiBC,YAAKf,EAAMxC,QAAQwD,OAAOC,MAAO,KAClD,UAAW,CACTH,gBAAiBC,YAAKf,EAAMxC,QAAQwD,OAAOC,MAAO,MAEpDb,YAAaJ,EAAMK,QAAQ,GAC3Ba,WAAY,EACZC,MAAO,QACNnB,EAAMQ,YAAYC,GAAG,MAAQ,CAC5BS,WAAYlB,EAAMK,QAAQ,GAC1Bc,MAAO,SAGXC,WAAY,CACVC,QAASrB,EAAMK,QAAQ,EAAG,GAC1BiB,OAAQ,OACRX,SAAU,WACVY,cAAe,OACfhB,QAAS,OACTiB,WAAY,SACZC,eAAgB,UAElBC,UAAW,CACTC,MAAO,WAETC,WAAW,aACTP,QAASrB,EAAMK,QAAQ,EAAG,EAAG,EAAG,GAEhCwB,YAAY,cAAD,OAAgB7B,EAAMK,QAAQ,GAA9B,OACXyB,WAAY9B,EAAM+B,YAAYC,OAAO,SACrCb,MAAO,QACNnB,EAAMQ,YAAYC,GAAG,MAAQ,CAC5BU,MAAO,SAGXc,eAAe,aACb1B,QAAS,QACRP,EAAMQ,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,SAGb2B,cAAc,aACZ3B,QAAS,QACRP,EAAMQ,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,SAGb4B,KAAM,CACJ5B,QAAS,QAEX6B,OAAQ,CACNC,OAAQrC,EAAMqC,OAAOC,OAAS,EAC9BR,WAAY9B,EAAM+B,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDO,OAAQvC,EAAM+B,YAAYQ,OAAOC,MACjCpD,SAAUY,EAAM+B,YAAY3C,SAASqD,iBAGzCC,KAAM,CACJnC,QAAS,YAIE,SAASoC,KAAU,IAAD,EACTC,qBAAWvD,IADF,mBACrBM,GADqB,WAGzBkD,EAAU/C,KAHe,EAICgD,IAAMC,SAAS,MAJhB,mBAIxBC,EAJwB,KAIdC,EAJc,OAKqBH,IAAMC,SAAS,MALpC,mBAKxBG,EALwB,KAKJC,EALI,KAOzBC,EAAaC,QAAQL,GACrBM,EAAmBD,QAAQH,GAE3BK,EAAwB,SAACC,GAC7BP,EAAYO,EAAMC,gBAGdC,EAAwB,WAC5BP,EAAsB,OAGlBQ,EAAkB,WACtBV,EAAY,MACZS,KAOIE,EAAS,8BACTC,EACJ,gBAACC,EAAA,EAAD,CACEd,SAAUA,EACVe,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,GAAIN,EACJO,aAAW,EACXC,gBAAiB,CAAEJ,SAAU,MAAOC,WAAY,SAChD/F,KAAMkF,EACNiB,QAASV,EAPX,UASE,eAACW,EAAA,EAAD,CACEC,QAAS,WACPZ,IACAhE,EAAS,CAAE1B,KAAM,qBAAsBE,SAAS,KAHpD,qBAQA,eAACmG,EAAA,EAAD,CAAUC,QAASZ,EAAnB,uBAIEa,EAAe,qCACfC,EACJ,gBAACX,EAAA,EAAD,CACEd,SAAUE,EACVa,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,GAAIM,EACJL,aAAW,EACXC,gBAAiB,CAAEJ,SAAU,MAAOC,WAAY,SAChD/F,KAAMoF,EACNe,QAASX,EAPX,UASE,gBAACY,EAAA,EAAD,WACE,eAACI,EAAA,EAAD,CAAYC,aAAW,mBAAmBhD,MAAM,UAAhD,SACE,eAACiD,EAAA,EAAD,CAAOC,aAAc,EAAGlD,MAAM,YAA9B,SACE,eAAC,IAAD,QAGJ,6CAEF,gBAAC2C,EAAA,EAAD,WACE,eAACI,EAAA,EAAD,CAAYC,aAAW,4BAA4BhD,MAAM,UAAzD,SACE,eAACiD,EAAA,EAAD,CAAOC,aAAc,GAAIlD,MAAM,YAA/B,SACE,eAAC,IAAD,QAGJ,kDAEF,gBAAC2C,EAAA,EAAD,CAAUC,QAAShB,EAAnB,UACE,eAACmB,EAAA,EAAD,CACEC,aAAW,0BACXG,gBAAc,8BACdC,gBAAc,OACdpD,MAAM,UAJR,SAME,eAAC,IAAD,MAEF,+CAKN,OACE,uBAAKqD,UAAWnC,EAAQ5C,KAAxB,UACE,eAACgF,EAAA,EAAD,CAAQtE,SAAS,QAAQqE,UAAWnC,EAAQT,OAA5C,SACE,gBAAC8C,EAAA,EAAD,WACE,eAACR,EAAA,EAAD,CACES,KAAK,QACLH,UAAWnC,EAAQ1C,WACnBwB,MAAM,UACNgD,aAAW,cAJb,SAME,eAAC,IAAD,MAEF,eAACS,EAAA,EAAD,CAAYJ,UAAWnC,EAAQvC,MAAO+E,QAAQ,KAAKC,QAAM,EAAzD,6BAGA,uBAAKN,UAAWnC,EAAQnC,OAAxB,UACE,sBAAKsE,UAAWnC,EAAQzB,WAAxB,SACE,eAAC,IAAD,MAEF,eAACmE,EAAA,EAAD,CACEC,YAAY,eACZ3C,QAAS,CACPV,KAAMU,EAAQnB,UACd+D,MAAO5C,EAAQjB,YAEjB8D,WAAY,CAAE,aAAc,eAGhC,sBAAKV,UAAWnC,EAAQ5C,OACxB,sBAAK+E,UAAWnC,EAAQZ,eAAxB,SACE,eAACyC,EAAA,EAAD,CACES,KAAK,MACLR,aAAW,0BACXG,gBAAelB,EACfmB,gBAAc,OACdR,QAAShB,EACT5B,MAAM,UANR,SAQE,eAAC,IAAD,QAGJ,sBAAKqD,UAAWnC,EAAQX,cAAxB,SACE,eAACwC,EAAA,EAAD,CACEC,aAAW,YACXG,gBAAeN,EACfO,gBAAc,OACdR,QAlHiB,SAACf,GAC5BL,EAAsBK,EAAMC,gBAkHlB9B,MAAM,UALR,SAOE,eAAC,IAAD,aAKP8C,EACAZ,K,oFCtOD8B,GAAc/G,GAEdkB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCsC,OAAQ,CACNnB,MAAOwE,GACPC,WAAY,GAEdC,YAAa,CACX1E,MAAOwE,IAETG,gBAAiB,CACfC,SAAU,YAIVC,GAAO,CACT,CAAEC,KAAM,MAAOC,KAAM,OACrB,CAAED,KAAM,OAAQC,KAAM,QACtB,CAAED,KAAM,SAAUC,KAAM,UACxB,CAAED,KAAM,aAAcC,KAAM,cAC5B,CAAED,KAAM,KAAMC,KAAM,OAGP,SAASC,KACtB,IAAMtD,EAAU/C,KAEhB,OACE,gBAACsG,GAAA,EAAD,CACEpB,UAAWnC,EAAQP,OACnB+C,QAAQ,YACRxC,QAAS,CACPwD,MAAOxD,EAAQgD,aAJnB,UAOE,eAACX,EAAA,EAAD,IACA,sBAAKF,UAAWnC,EAAQiD,gBAAxB,SACE,eAACQ,GAAA,EAAD,UACGN,GAAKO,KAAI,SAACC,EAAKC,GAAN,OACR,gBAACC,GAAA,EAAD,CACEC,QAAM,EAENC,UAAWC,KACXC,GAAE,eAAUN,EAAIN,MAJlB,UAME,eAACa,GAAA,EAAD,UACE,eAAC,KAAD,MAEF,eAACC,GAAA,EAAD,CAAcvJ,QAAS+I,EAAIP,SAPtBO,EAAIN,gB,aC3CjBpG,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmC,KAAM,CACJb,OAAQ,OACRH,MAAOvC,GACPqI,UAAWrI,GACX+B,SAAU,QACVuG,IAAK,EACLC,KAAMvI,QAINwI,GAAW,CACb,CAAEnB,KAAM,mFAAwBC,KAAM,eACtC,CAAED,KAAM,6FAAwBC,KAAM,eACtC,CAAED,KAAM,kDAAgBC,KAAM,eAC9B,CAAED,KAAM,mDAAYC,KAAM,eAC1B,CAAED,KAAM,uCAAUC,KAAM,gBAGX,SAASmB,KACtB,IAAMxE,EAAU/C,KAEhB,OACE,eAACwH,GAAA,EAAD,CAAOtC,UAAWnC,EAAQV,KAA1B,SACE,eAACmE,GAAA,EAAD,UACGc,GAASb,KAAI,SAACgB,EAASd,GAAV,OACZ,eAACC,GAAA,EAAD,CACEC,QAAM,EAENC,UAAWC,KACXC,GAAE,mBAAcS,EAAQrB,MAJ1B,SAME,eAACc,GAAA,EAAD,CAAcvJ,QAAS8J,EAAQtB,QAJ1BsB,EAAQrB,a,+LCfrBsB,QAAeC,EACbC,GAAa5E,IAAM6E,YAAW,SAAoBC,EAAOC,GAC7D,OAAO,eAACC,GAAA,EAAD,aAAOC,UAAU,KAAKF,IAAKA,GAASD,OA4R9BI,G,oDAxRb,WAAYJ,GAAQ,IAAD,+BACjB,cAAMA,IA+BRK,OAhCmB,sBAgCV,sBAAAC,EAAA,sDAGP,EAAK/I,QAAQ,6BAHN,2CAhCU,EAsCnBgJ,KAtCmB,sBAsCZ,sBAAAD,EAAA,+EAEGE,UAAUC,UAAUC,UAAU,EAAKvK,MAAMwJ,QAAQgB,MAFpD,OAGH,EAAKpJ,QAAQ,mBAHV,+CAKH,EAAKA,QAAL,MALG,wDAtCY,EA+CnBqJ,SAAW,SAACC,GACV,IAAIC,EAAQD,EACZE,aAAaC,QAAQ,gBAAiBF,GACtC,EAAKG,SAAS,CAAEH,WAlDC,EA8InBI,cAAgB,SAACvB,GACf,MAAM,KAAN,OAAYA,EAAQjH,MAApB,mBACIiH,EAAQf,IADZ,4BAIKe,EAAQwB,SAJb,aAKFxB,EAAQgB,KALN,oCASFhB,EAAQyB,cAxJW,EA2JnBC,cAAgB,SAACP,GAIf,IAHA,IAAIQ,EAAQR,EAAMS,MAAM,MACpBC,EAAyB,EACzBC,EAA0B,EACrBC,EAAI,EAAGA,EAAIJ,EAAMK,OAAQD,IAChC,GAAIJ,EAAMI,GAAGE,OAAOC,WAAW,OAAQ,CACrC,GAA+B,IAA3BL,EAEG,CACLC,EAA0BC,EAC1B,MAHAF,EAAyBE,EAQ/B,IADA,IAAII,EAAsB,EACjBJ,EAAID,EAA0B,EAAGC,EAAIJ,EAAMK,OAAQD,IAC1D,GAAIJ,EAAMI,GAAGE,OAAQ,CAEjBE,EADER,EAAMI,GAAGE,OAAOC,WAAW,KACPH,EAAI,EAEJA,EAExB,MAIJ,MAAO,CACLP,SAAUG,EAAME,GAAwBO,OAAO,GAAGH,OAClDlJ,MAAO4I,EAAM,GAAGS,OAAO,GAAGH,OAC1BjB,KAAMW,EACHU,MAAMR,EAAyB,EAAGC,GAClCQ,KAAK,MACRb,YAAaE,EAAMU,MAAMF,GAAqBG,KAAK,MACnDrD,IAAK0C,EAAM,GAAGC,MAAM,KAAKS,MAAM,GAAGC,KAAK,OA5LxB,EAgMnBC,iBAAmB,WACjB,EAAKjB,SAAS,CACZH,MAAO,EAAKI,cAAc,EAAK/K,MAAMwJ,SACrCwC,YAAY,KAnMG,EAuMnBC,kBAAoB,WAClB,EAAKnB,SAAS,CACZkB,YAAY,KAzMG,EA6MnBE,YA7MmB,sBA6ML,8BAAA/B,EAAA,sDACRX,EAAU,EAAK0B,cAAc,EAAKlL,MAAM2K,OACxCwB,EACF,EAAKnM,MAAMwJ,QAAQyB,cAAgBzB,EAAQyB,YAC7C,EAAKH,SAAS,CACZtB,YAEE2C,GACF,EAAKrB,SAAS,CACZsB,oBAAqBC,KAAO7C,EAAQyB,eAIxC,EAAK7J,QAAQ,6BAbD,2CA3MZ,EAAKpB,MAAQ,CACXsM,SAAS,EACTrK,MAAO,kBACPsK,SAAU,GACV/C,QAAS,CACPwB,SAAU,aACVzI,MAAO,kDACPiI,KACE,sKAGFS,YACE,gLACFxC,IAAK,2CAEPkC,MAAO,GACP6B,cAAc,EACdR,YAAY,EACZS,aAAc,KACdL,oBAAqB,IArBN,E,6FAyBnB,sBAAAjC,EAAA,sDACEuC,KAAK5B,SAAS,CACZsB,oBAAqBC,KAAOK,KAAK1M,MAAMwJ,QAAQyB,eAEjDyB,KAAKC,mBAJP,gD,oFA4BA,WACE,IAAI1K,EAAQ2I,aAAagC,QAAQ,SAC5B3K,IACHA,EAAQyK,KAAK1M,MAAMiC,OAErB,IAAIsK,EAAW3B,aAAagC,QAAQ,aACpCL,EAAWM,SAASN,MAElBA,EAAWG,KAAK1M,MAAMuM,UAExBG,KAAK5B,SAAS,CACZ7I,QACAsK,e,0BAIJ,WACE,OACE,eAAC,KAAD,CACE1L,MAAO,CAAEuC,MAAO,OAAQG,OAAQ,QAChCuJ,KAAM,WACN7K,MAAOyK,KAAK1M,MAAMiC,MAClB8K,KAAM,SACNtC,SAAUiC,KAAKjC,SACf3I,MAAO4K,KAAK1M,MAAM2K,MAClB4B,SAAUG,KAAK1M,MAAMuM,SACrBS,WAAY,CAAEC,WAAW,O,qBAK/B,SAAQ7L,GAAU,IAAD,OACfsL,KAAK5B,SAAS,CACZ0B,cAAc,EACdC,aAAcrL,IAEhB8L,aAAazD,IACbA,GAAe0D,YAAW,WACxB,EAAKrC,SAAS,CACZ0B,cAAc,MAEf,O,4BAGL,WACE,OACE,eAACY,GAAA,EAAD,CACEpH,aAAc,CACZC,SAAU,MACVC,WAAY,SAEd/F,KAAMuM,KAAK1M,MAAMwM,aACjBpL,QAASsL,KAAK1M,MAAMyM,iB,4BAK1B,WAGE,OACE,iCACE,eAACY,EAAA,EAAD,CACE/F,QAAQ,YACR1D,MAAM,YACN4C,QAASkG,KAAKxC,OACdrJ,MAAO,CAAEwB,YARK,EAQQiL,aAPP,GAGjB,4BAQA,eAACD,EAAA,EAAD,CACE/F,QAAQ,YACRzG,MAAO,CAAEwB,YAdK,EAcQiL,aAbP,GAcf9G,QAASkG,KAAKX,iBAHhB,0BAOA,eAACsB,EAAA,EAAD,CACE/F,QAAQ,YACR1D,MAAM,UACN4C,QAASkG,KAAKtC,KACdvJ,MAAO,CAAEwB,YAvBK,EAuBQiL,aAtBP,GAkBjB,4B,gCA2FN,WACE,OACE,gBAACC,EAAA,EAAD,CACEC,YAAU,EACVrN,KAAMuM,KAAK1M,MAAMgM,WACjB1F,QAASoG,KAAKT,kBACdwB,oBAAqB9D,GAJvB,UAME,eAACzC,EAAA,EAAD,CACEtE,SAAU,WACV/B,MAAO,CAAE6M,WAAY,UAAWC,UAAW,QAF7C,SAIE,gBAACxG,EAAA,EAAD,WACE,eAACR,EAAA,EAAD,CACES,KAAK,QACLxD,MAAM,UACN4C,QAASkG,KAAKT,kBACdrF,aAAW,QAJb,SAME,eAAC,KAAD,CAAW/F,MAAO,CAAE+M,KAAM,YAE5B,eAACjH,EAAA,EAAD,CACEC,aAAW,OACXhD,MAAM,UACN4C,QAASkG,KAAKR,YAHhB,SAKE,eAAC,KAAD,CAAUrL,MAAO,CAAE+M,KAAM,iBAI9BlB,KAAKmB,oB,oBAKZ,WACE,OACE,uCACGnB,KAAKoB,iBACN,gBAACvE,GAAA,EAAD,CAAO1I,MAAO,CAAEyC,QAAS,IAAzB,UACE,eAAC+D,EAAA,EAAD,CAAYC,QAAQ,KAAKyG,cAAY,EAArC,SACGrB,KAAK1M,MAAMwJ,QAAQjH,QAEtB,eAAC,KAAD,CAAW0E,UAAWyF,KAAK1M,MAAMwJ,QAAQwB,SAAzC,SACG0B,KAAK1M,MAAMwJ,QAAQgB,OAEtB,sBACEwD,wBAAyB,CACvBC,OAAQvB,KAAK1M,MAAMoM,0BAIxBM,KAAKwB,iBACLxB,KAAKyB,4B,GAnRQpJ,IAAMqJ,WCZbC,GAdQ,SAACrN,GAAkB,IAAD,EACTgE,mBAAShE,GADA,mBAChCsN,EADgC,KACvBC,EADuB,KAYvC,MAAO,CAACD,EAASC,EATS,SAAC9I,GACC,WAAtBA,EAAM+I,OAAOzB,MAAqBtH,EAAM+I,OAAO1M,MAAM2M,SAAS,OAChEhJ,EAAM+I,OAAO1M,MAAQ2D,EAAM+I,OAAO1M,MAAM+J,MAAM,GAAI,IAEpD0C,EAAW,2BACND,GADK,kBAEP7I,EAAM+I,OAAOzB,KAAOtH,EAAM+I,OAAO1M,Y,qBCP3B4M,GAAY,uCAAG,WAAOJ,EAAS1M,GAAhB,mBAAAuI,EAAA,+EAERwE,KAAMC,KAAN,UAAcN,EAAQnN,OAAtB,SAAqC,CACnDF,SAAUqN,EAAQrN,SAClBC,SAAUoN,EAAQpN,WAJI,UAEpB2N,EAFoB,QAMpBC,EAAOD,EAAIC,MACNtE,OAAS1J,GAPM,wBAQlBR,EAAQwO,EAAKA,KAAKxO,MACtBsB,EAAS,CAAE1B,KAAM,YAAaE,QAASE,IATjB,kBAUf,EAAC,EAAM,KAVQ,iCAYf,EAAC,EAAD,wCAAyCwO,EAAKtE,KAA9C,OAZe,iEAexBuE,QAAQC,MAAR,MAfwB,kBAgBjB,EAAC,EAAD,mCAAoC,KAAE5N,QAAtC,OAhBiB,0DAAH,wD,UCIzB,SAAS6N,GAAMpF,GACb,OAAO,eAAC,KAAD,aAAUqF,UAAW,EAAG5H,QAAQ,UAAauC,IAGvC,SAASjJ,KAAS,IAAD,EACJiE,qBAAWvD,IADP,mBACvBtB,EADuB,KAChB4B,EADgB,KAGxBuN,EAAc,SAAC1J,EAAO2J,GACX,cAAXA,GAGJxN,EAAS,CAAE1B,KAAM,cAAeE,QAAS,MAG3C,OACE,eAACgN,GAAA,EAAD,CACEjN,KAAMH,EAAMY,MAAMT,KAClBkP,iBAAkBrP,EAAMY,MAAMS,SAC9BiF,QAAS6I,EAHX,SAKE,eAAC,GAAD,CAAO7I,QAAS6I,EAAaG,SAAUtP,EAAMY,MAAMV,KAAnD,SACGF,EAAMY,MAAMQ,YCJrB,IAAMW,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmC,KAAM,CACJ5B,QAAS,QAEX+M,QAAS,CACPjM,QAASrB,EAAMK,QAAQ,GACvBa,WAAYtC,GACZuC,MAAO,OACPG,OAAQ,YAmHGiM,OA/Gf,WAAmB,IAAD,EACU3K,qBAAWvD,IADrB,mBACTtB,EADS,KACF4B,EADE,OAEiCyM,GAC/CrO,EAAMW,SAHQ,mBAET2N,EAFS,KAEAC,EAFA,KAEYkB,EAFZ,KAMhBC,qBAAU,YC1CL,SAAqB9N,GAC1B,IAAIX,EAAW2J,aAAagC,QAAQ,YAChC1L,EAAW0J,aAAagC,QAAQ,YAChCzL,EAASyJ,aAAagC,QAAQ,UAC7B3L,GAAaC,GAAaC,GAG7BS,EAAS,CACP1B,KAAM,cACNE,QAAS,CACPa,WACAC,WACAC,YAGJ4N,QAAQY,IAAI,uBAVZ/N,EAAS,CAAE1B,KAAM,qBAAsBE,SAAS,IDsChDwP,CAAYhO,KACX,IAGH8N,qBAAU,WACRnB,EAAWvO,EAAMW,WAChB,CAACX,IAEJ,IAAM8E,EAAU/C,KAChB,OACE,uBAAKkF,UAAWnC,EAAQV,KAAxB,UACE,eAACyL,EAAA,EAAD,IACA,eAACjL,GAAD,IACA,eAACwD,GAAD,IACA,eAACkB,GAAD,IACA,wBAAMrC,UAAWnC,EAAQyK,QAAzB,UACE,eAACpI,EAAA,EAAD,IACA,eAAC,GAAD,OAEF,gBAACoG,EAAA,EAAD,CACEpN,KAAMH,EAAMD,cAAcI,KAC1BmG,QAAS,WACP1E,EAAS,CAAE1B,KAAM,qBAAsBE,SAAS,KAElD0P,kBAAgB,oBALlB,UAOE,eAACC,EAAA,EAAD,CAAa5J,GAAG,oBAAhB,qBACA,gBAAC6J,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,oDAGA,eAACC,EAAA,EAAD,CACEC,OAAO,QACPpD,KAAK,WACLqD,MAAM,WACNlQ,KAAK,OACL4B,MAAOwM,EAAQrN,SACfwJ,SAAUgF,EACVY,WAAS,IAEX,eAACH,EAAA,EAAD,CACEC,OAAO,QACPpD,KAAK,WACLqD,MAAM,WACNlQ,KAAK,WACL4B,MAAOwM,EAAQpN,SACfuJ,SAAUgF,EACVY,WAAS,IAEX,eAACH,EAAA,EAAD,CACEC,OAAO,QACPpD,KAAK,SACLqD,MAAM,iBACNlQ,KAAK,MACL4B,MAAOwM,EAAQnN,OACfsJ,SAAUgF,EACVY,WAAS,OAGb,gBAACC,EAAA,EAAD,WACE,eAACjD,EAAA,EAAD,CACE7G,QAAO,sBAAE,oCAAA2D,EAAA,sEACwBuE,GAAaJ,EAAS1M,GAD9C,mCACF2O,EADE,KACOnP,EADP,KAEHlB,EAAOa,GACPwP,IACFnP,EAAU,wBACVlB,EAAOa,IAETa,EAAS,CACP1B,KAAM,aACNE,QAAS,CACPgB,UACAlB,OACAmB,SAAUkP,EAAU,IAAO,OAZxB,2CAgBT3M,MAAM,UAjBR,kBAqBA,eAACyJ,EAAA,EAAD,CACE7G,QAAS,YC1Gd,SAAqB8H,EAAS1M,GAEnCA,EAAS,CAAE1B,KAAM,qBAAsBE,SAAS,IAEhD,cAA2BoQ,OAAOC,QAAQnC,GAA1C,eAAoD,CAAC,IAAD,sBAAxC5N,EAAwC,KAAnCoB,EAAmC,KAClD8I,aAAaC,QAAQnK,EAAKoB,GAG5BF,EAAS,CAAE1B,KAAM,cAAeE,QAASkO,IDmG7BoC,CAAYpC,EAAS1M,GACrBA,EAAS,CACP1B,KAAM,aACNE,QAAS,CACPgB,QAAS,kDACTlB,KAAMa,GACNM,SAAU,QAIhBuC,MAAM,UAZR,wBAkBJ,eAAC,GAAD,QExIS+M,GAJM,WACnB,OAAO,wCCeMC,GAZA,CACb,CACEC,KAAM,IACNC,QAAS,eAAC,GAAD,IACTrP,SAAU,CACR,CAAEoP,KAAM,MAAOC,QAAS,eAAC,GAAD,KACxB,CAAED,KAAM,IAAKC,QAAS,eAAC,GAAD,KACtB,CAAED,KAAM,IAAKC,QAAS,eAAC,IAAD,CAAU/H,GAAG,aCc1BgI,GAlBH,WACVrB,qBAAU,WACR,IAAMsB,EAAIC,SAASC,eAAe,0BAC9BF,IACFA,EAAEG,UAAUC,IAAI,aAChBjE,YAAW,WACT6D,EAAEK,UAAY,KACb,OAEJ,IACH,IAAMC,EAAUC,YAAUX,IAC1B,OACE,eAAC,GAAD,UACE,eAACY,EAAA,EAAD,CAAevP,MAAO1C,EAAtB,SAAkC+R,OCfxCG,IAASC,OACP,eAAC,KAAD,UACE,eAAC,IAAMC,WAAP,UACE,eAAC,GAAD,QAGJV,SAASC,eAAe,W","file":"static/js/main.a6802b5d.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\nimport red from '@material-ui/core/colors/red';\n\nconst mainTheme = createMuiTheme({\n  palette: {\n    primary: blue,\n    secondary: red,\n  },\n});\n\nconst editorTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#fbf1d3',\n    },\n    secondary: {\n      main: '#fbf6e3',\n    },\n  },\n});\n\nexport { mainTheme, editorTheme };\n","const SettingDialog = (state, action) => {\n  switch (action.type) {\n    case 'SET_SETTING_DIALOG':\n      return {\n        open: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default SettingDialog;\n","const Token = (state, action) => {\n  switch (action.type) {\n    case 'SET_TOKEN':\n      return {\n        token: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default Token;\n","import SettingDialog from './SettingDialog';\nimport Token from './Token';\nimport Setting from './Setting';\nimport Toast from './Toast';\n\n// https://stackoverflow.com/questions/59200785/react-usereducer-how-to-combine-multiple-reducers\nconst combineReducers = (reducers) => {\n  return (state, action) => {\n    const newState = {};\n    for (let key in reducers) {\n      newState[key] = reducers[key](state[key], action);\n    }\n    return newState;\n  };\n};\n\nexport default combineReducers({ SettingDialog, Token, Setting, Toast });\n","const Setting = (state, action) => {\n  switch (action.type) {\n    case 'SET_SETTING':\n      return {\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default Setting;\n","const Toast = (state, action) => {\n  switch (action.type) {\n    case 'SHOW_TOAST':\n      return {\n        ...state,\n        ...action.payload,\n        open: true,\n      };\n    case 'CLOSE_TOAST':\n      return {\n        ...state,\n        open: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default Toast;\n","export const style = {\n  tagListWidth: 240,\n  snippetListWidth: 240,\n  topBarHeight: 64,\n};\n\nexport const statusCode = {\n  statusOk: 1000,\n  statusError: 1001,\n  statusPermissionDenied: 1002,\n  statusInvalidParameter: 1003,\n  statusUnexpectedError: 1004,\n  statusRecordNotFound: 1005,\n};\n\nexport const toastType = {\n  error: 'error',\n  warning: 'warning',\n  info: 'info',\n  success: 'success',\n};\n","import React, { createContext, useReducer } from 'react';\nimport Reducer from './reducers';\nimport { toastType } from './utils/constant';\n\nconst initialState = {\n  SettingDialog: {\n    open: false,\n  },\n  Token: '',\n  Setting: {\n    username: '',\n    password: '',\n    server: 'https://code-snippet-manager.herokuapp.com',\n  },\n  Toast: {\n    open: false,\n    message: '',\n    duration: 5000,\n    type: toastType.info,\n  },\n};\n\nconst Store = ({ children }) => {\n  const [state, dispatch] = useReducer(Reducer, initialState);\n  return (\n    <Context.Provider value={[state, dispatch]}>{children}</Context.Provider>\n  );\n};\n\nexport const Context = createContext(initialState);\nexport default Store;\n","import React, { useContext } from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport Badge from '@material-ui/core/Badge';\nimport MailIcon from '@material-ui/icons/Mail';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Typography from '@material-ui/core/Typography';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport { Context } from '../store';\nimport { loadSetting } from '../utils/setting';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch',\n    },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  hide: {\n    display: 'none',\n  },\n}));\n\nexport default function TopBar() {\n  const [_, dispatch] = useContext(Context);\n\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n  };\n\n  const handleMobileMenuOpen = (event) => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n\n  const menuId = 'primary-search-account-menu';\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem\n        onClick={() => {\n          handleMenuClose();\n          dispatch({ type: 'SET_SETTING_DIALOG', payload: true });\n        }}\n      >\n        Setting\n      </MenuItem>\n      <MenuItem onClick={handleMenuClose}>Logout</MenuItem>\n    </Menu>\n  );\n\n  const mobileMenuId = 'primary-search-account-menu-mobile';\n  const renderMobileMenu = (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem>\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\n          <Badge badgeContent={4} color=\"secondary\">\n            <MailIcon />\n          </Badge>\n        </IconButton>\n        <p>Messages</p>\n      </MenuItem>\n      <MenuItem>\n        <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\n          <Badge badgeContent={11} color=\"secondary\">\n            <NotificationsIcon />\n          </Badge>\n        </IconButton>\n        <p>Notifications</p>\n      </MenuItem>\n      <MenuItem onClick={handleProfileMenuOpen}>\n        <IconButton\n          aria-label=\"account of current user\"\n          aria-controls=\"primary-search-account-menu\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n        >\n          <AccountCircle />\n        </IconButton>\n        <p>Profile</p>\n      </MenuItem>\n    </Menu>\n  );\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            Snippet Manager\n          </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Search…\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              inputProps={{ 'aria-label': 'search' }}\n            />\n          </div>\n          <div className={classes.grow} />\n          <div className={classes.sectionDesktop}>\n            <IconButton\n              edge=\"end\"\n              aria-label=\"account of current user\"\n              aria-controls={menuId}\n              aria-haspopup=\"true\"\n              onClick={handleProfileMenuOpen}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n          </div>\n          <div className={classes.sectionMobile}>\n            <IconButton\n              aria-label=\"show more\"\n              aria-controls={mobileMenuId}\n              aria-haspopup=\"true\"\n              onClick={handleMobileMenuOpen}\n              color=\"inherit\"\n            >\n              <MoreIcon />\n            </IconButton>\n          </div>\n        </Toolbar>\n      </AppBar>\n      {renderMobileMenu}\n      {renderMenu}\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport CodeIcon from '@material-ui/icons/Code';\nimport Drawer from '@material-ui/core/Drawer';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { Link } from 'react-router-dom';\nimport { style } from '../utils/constant';\n\nconst drawerWidth = style.tagListWidth;\n\nconst useStyles = makeStyles((theme) => ({\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerContainer: {\n    overflow: 'auto',\n  },\n}));\n\nlet tags = [\n  { text: 'C++', link: 'Cpp' },\n  { text: 'Java', link: 'Java' },\n  { text: 'Python', link: 'Python' },\n  { text: 'JavaScript', link: 'JavaScript' },\n  { text: 'Go', link: 'Go' },\n];\n\nexport default function TagList() {\n  const classes = useStyles();\n\n  return (\n    <Drawer\n      className={classes.drawer}\n      variant=\"permanent\"\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n    >\n      <Toolbar />\n      <div className={classes.drawerContainer}>\n        <List>\n          {tags.map((tag, index) => (\n            <ListItem\n              button\n              key={tag.link}\n              component={Link}\n              to={`/tag/${tag.link}`}\n            >\n              <ListItemIcon>\n                <CodeIcon />\n              </ListItemIcon>\n              <ListItemText primary={tag.text} />\n            </ListItem>\n          ))}\n        </List>\n      </div>\n    </Drawer>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { Link } from 'react-router-dom';\nimport { Paper } from '@material-ui/core';\nimport { style } from '../utils/constant';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100%',\n    width: style.snippetListWidth,\n    marginTop: style.topBarHeight,\n    position: 'fixed',\n    top: 0,\n    left: style.tagListWidth,\n  },\n}));\n\nlet snippets = [\n  { text: '通过 window 对象使函数在页面可用', link: 'temp-link-1' },\n  { text: '通过构建 HTML 文本来创建并插入元素', link: 'temp-link-2' },\n  { text: '通过 API 来创建元素', link: 'temp-link-3' },\n  { text: '复制文字到剪切板', link: 'temp-link-4' },\n  { text: '打开新的页面', link: 'temp-link-5' },\n];\n\nexport default function SnippetList() {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <List>\n        {snippets.map((snippet, index) => (\n          <ListItem\n            button\n            key={snippet.link}\n            component={Link}\n            to={`/snippet/${snippet.link}`}\n          >\n            <ListItemText primary={snippet.text} />\n          </ListItem>\n        ))}\n      </List>\n    </Paper>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport AceEditor from 'react-ace';\nimport 'ace-builds/src-noconflict/mode-markdown';\nimport 'ace-builds/src-noconflict/snippets/markdown';\nimport 'ace-builds/src-noconflict/theme-solarized_light';\n\nimport Paper from '@material-ui/core/Paper';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SaveIcon from '@material-ui/icons/Save';\nimport Slide from '@material-ui/core/Slide';\nimport Typography from '@material-ui/core/Typography';\n\nimport Highlight from 'react-highlight'\n\nimport marked from 'marked';\n\nlet snackTimeout = undefined;\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nclass Snippet extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      theme: 'solarized_light',\n      fontSize: 18,\n      snippet: {\n        language: 'javascript',\n        title: '通过 API 来创建元素',\n        code:\n          \"let hiddenTextArea = document.createElement('textarea');\\n\" +\n          'hiddenTextArea.setAttribute(\"id\", \"hiddenTextArea\");\\n' +\n          'hiddenTextArea.style.cssText = \"display:hidden;\";',\n        description:\n          '利用 API 来创建元素，除此之外还可以通过构建 HTML 文本来创建元素。',\n        tag: '浏览器脚本 HTML API',\n      },\n      draft: '',\n      showSnackbar: false,\n      showEditor: false,\n      snackMessage: 'Hi',\n      renderedDescription: '',\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({\n      renderedDescription: marked(this.state.snippet.description),\n    });\n    this.loadEditorConfig();\n  }\n\n  delete = async () => {\n    // TODO: send delete request\n    // TODO: switch page\n    this.message('Snippet has been deleted.');\n  };\n\n  copy = async () => {\n    try {\n      await navigator.clipboard.writeText(this.state.snippet.code);\n      this.message('Snippet copied.');\n    } catch (e) {\n      this.message(e);\n    }\n  };\n\n  onChange = (newValue) => {\n    let draft = newValue;\n    localStorage.setItem('editorContent', draft);\n    this.setState({ draft });\n  };\n\n  loadEditorConfig() {\n    let theme = localStorage.getItem('theme');\n    if (!theme) {\n      theme = this.state.theme;\n    }\n    let fontSize = localStorage.getItem('fontSize');\n    fontSize = parseInt(fontSize);\n    if (!fontSize) {\n      fontSize = this.state.fontSize;\n    }\n    this.setState({\n      theme,\n      fontSize,\n    });\n  }\n\n  renderEditor() {\n    return (\n      <AceEditor\n        style={{ width: '100%', height: '100%' }}\n        mode={'markdown'}\n        theme={this.state.theme}\n        name={'editor'}\n        onChange={this.onChange}\n        value={this.state.draft}\n        fontSize={this.state.fontSize}\n        setOptions={{ useWorker: false }}\n      />\n    );\n  }\n\n  message(message) {\n    this.setState({\n      showSnackbar: true,\n      snackMessage: message,\n    });\n    clearTimeout(snackTimeout);\n    snackTimeout = setTimeout(() => {\n      this.setState({\n        showSnackbar: false,\n      });\n    }, 3000);\n  }\n\n  renderSnackbar() {\n    return (\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        open={this.state.showSnackbar}\n        message={this.state.snackMessage}\n      />\n    );\n  }\n\n  renderTopPanel() {\n    const marginRight = 8;\n    const marginBottom = 8;\n    return (\n      <div>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={this.delete}\n          style={{ marginRight, marginBottom }}\n        >\n          Delete Snippet\n        </Button>\n        <Button\n          variant=\"contained\"\n          style={{ marginRight, marginBottom }}\n          onClick={this.showEditorDialog}\n        >\n          Edit Snippet\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={this.copy}\n          style={{ marginRight, marginBottom }}\n        >\n          Copy Code\n        </Button>\n      </div>\n    );\n  }\n\n  snippet2draft = (snippet) => {\n    return `# ${snippet.title}\nTags: ${snippet.tag}\n\n## Code\n\\`\\`\\` ${snippet.language}\n${snippet.code}\n\\`\\`\\`\n\n## Description\n${snippet.description}`;\n  };\n\n  draft2snippet = (draft) => {\n    let lines = draft.split('\\n');\n    let firstTripleBacktickPos = 0;\n    let secondTripleBacktickPos = 0;\n    for (let i = 2; i < lines.length; i++) {\n      if (lines[i].trim().startsWith('```')) {\n        if (firstTripleBacktickPos === 0) {\n          firstTripleBacktickPos = i;\n        } else {\n          secondTripleBacktickPos = i;\n          break;\n        }\n      }\n    }\n    let descriptionStartPos = 0;\n    for (let i = secondTripleBacktickPos + 1; i < lines.length; i++) {\n      if (lines[i].trim()) {\n        if (lines[i].trim().startsWith('#')) {\n          descriptionStartPos = i + 1;\n        } else {\n          descriptionStartPos = i;\n        }\n        break;\n      }\n    }\n\n    return {\n      language: lines[firstTripleBacktickPos].substr(3).trim(),\n      title: lines[0].substr(1).trim(),\n      code: lines\n        .slice(firstTripleBacktickPos + 1, secondTripleBacktickPos)\n        .join('\\n'),\n      description: lines.slice(descriptionStartPos).join('\\n'),\n      tag: lines[1].split(' ').slice(1).join(' '),\n    };\n  };\n\n  showEditorDialog = () => {\n    this.setState({\n      draft: this.snippet2draft(this.state.snippet),\n      showEditor: true,\n    });\n  };\n\n  closeEditorDialog = () => {\n    this.setState({\n      showEditor: false,\n    });\n  };\n\n  applyChange = async () => {\n    let snippet = this.draft2snippet(this.state.draft);\n    let needRenderMarkdown =\n      this.state.snippet.description !== snippet.description;\n    this.setState({\n      snippet,\n    });\n    if (needRenderMarkdown) {\n      this.setState({\n        renderedDescription: marked(snippet.description),\n      });\n    }\n    // TODO: send update request\n    this.message('Snippet has been updated.');\n  };\n\n  renderEditorDialog() {\n    return (\n      <Dialog\n        fullScreen\n        open={this.state.showEditor}\n        onClose={this.closeEditorDialog}\n        TransitionComponent={Transition}\n      >\n        <AppBar\n          position={'relative'}\n          style={{ background: '#fbf1d3', boxShadow: 'none' }}\n        >\n          <Toolbar>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              onClick={this.closeEditorDialog}\n              aria-label=\"close\"\n            >\n              <CloseIcon style={{ fill: '#000' }} />\n            </IconButton>\n            <IconButton\n              aria-label=\"save\"\n              color=\"inherit\"\n              onClick={this.applyChange}\n            >\n              <SaveIcon style={{ fill: '#000' }} />\n            </IconButton>\n          </Toolbar>\n        </AppBar>\n        {this.renderEditor()}\n      </Dialog>\n    );\n  }\n\n  render() {\n    return (\n      <>\n        {this.renderTopPanel()}\n        <Paper style={{ padding: 16 }}>\n          <Typography variant=\"h4\" gutterBottom>\n            {this.state.snippet.title}\n          </Typography>\n          <Highlight className={this.state.snippet.language}>\n            {this.state.snippet.code}\n          </Highlight>\n          <div\n            dangerouslySetInnerHTML={{\n              __html: this.state.renderedDescription,\n            }}\n          />\n        </Paper>\n        {this.renderSnackbar()}\n        {this.renderEditorDialog()}\n      </>\n    );\n  }\n}\n\nexport default Snippet;\n","import React, { useState } from 'react';\nconst useSettingForm = (initialState) => {\n  const [setting, setSetting] = useState(initialState);\n\n  const handleInputChange = (event) => {\n    if (event.target.name === 'server' && event.target.value.endsWith('/')) {\n      event.target.value = event.target.value.slice(0, -1);\n    }\n    setSetting({\n      ...setting,\n      [event.target.name]: event.target.value,\n    });\n  };\n  return [setting, setSetting, handleInputChange];\n};\nexport default useSettingForm;\n","import axios from 'axios';\nimport { statusCode } from '../utils/constant';\n\nexport const refreshToken = async (setting, dispatch) => {\n  try {\n    let res = await axios.post(`${setting.server}/auth`, {\n      username: setting.username,\n      password: setting.password,\n    });\n    let data = res.data;\n    if (data.code === statusCode.statusOk) {\n      let token = data.data.token;\n      dispatch({ type: 'SET_TOKEN', payload: token });\n      return [true, ''];\n    } else {\n      return [false, `Failed to refresh token: code ${data.code}.`];\n    }\n  } catch (e) {\n    console.error(e);\n    return [false, `Failed to refresh token: ${e.message}.`];\n  }\n};\n","import React, { useContext } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Context } from '../store';\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nexport default function Toast() {\n  const [state, dispatch] = useContext(Context);\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    dispatch({ type: 'CLOSE_TOAST', payload: {} });\n  };\n\n  return (\n    <Snackbar\n      open={state.Toast.open}\n      autoHideDuration={state.Toast.duration}\n      onClose={handleClose}\n    >\n      <Alert onClose={handleClose} severity={state.Toast.type}>\n        {state.Toast.message}\n      </Alert>\n    </Snackbar>\n  );\n}\n","import React, { useContext, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TopBar from './TopBar';\nimport TagList from './TagList';\nimport SnippetList from './SnippetList';\nimport Snippet from './Snippet';\nimport { style } from '../utils/constant';\nimport useSettingForm from '../hooks/settingForm';\nimport { Context } from '../store';\n\nimport { loadSetting, saveSetting } from '../utils/setting';\nimport { refreshToken } from '../utils/token';\nimport Toast from './Toast';\nimport { toastType } from '../utils/constant';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  content: {\n    padding: theme.spacing(3),\n    marginLeft: style.snippetListWidth,\n    width: '100%',\n    height: '100%',\n  },\n}));\n\nfunction Layout() {\n  const [state, dispatch] = useContext(Context);\n  const [setting, setSetting, handleInputChange] = useSettingForm(\n    state.Setting\n  );\n\n  useEffect(() => {\n    loadSetting(dispatch);\n  }, []);\n\n  // After the state is changed, update setting.\n  useEffect(() => {\n    setSetting(state.Setting);\n  }, [state]);\n\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <TopBar />\n      <TagList />\n      <SnippetList />\n      <main className={classes.content}>\n        <Toolbar />\n        <Snippet />\n      </main>\n      <Dialog\n        open={state.SettingDialog.open}\n        onClose={() => {\n          dispatch({ type: 'SET_SETTING_DIALOG', payload: false });\n        }}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Setting</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Tips: you can use a localhost server.\n          </DialogContentText>\n          <TextField\n            margin=\"dense\"\n            name=\"username\"\n            label=\"Username\"\n            type=\"text\"\n            value={setting.username}\n            onChange={handleInputChange}\n            fullWidth\n          />\n          <TextField\n            margin=\"dense\"\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            value={setting.password}\n            onChange={handleInputChange}\n            fullWidth\n          />\n          <TextField\n            margin=\"dense\"\n            name=\"server\"\n            label=\"Server Address\"\n            type=\"url\"\n            value={setting.server}\n            onChange={handleInputChange}\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={async () => {\n              let [success, message] = await refreshToken(setting, dispatch);\n              let type = toastType.error;\n              if (success) {\n                message = 'Your setting is okay.';\n                type = toastType.success;\n              }\n              dispatch({\n                type: 'SHOW_TOAST',\n                payload: {\n                  message,\n                  type,\n                  duration: success ? 3000 : 6000,\n                },\n              });\n            }}\n            color=\"primary\"\n          >\n            Test\n          </Button>\n          <Button\n            onClick={() => {\n              saveSetting(setting, dispatch);\n              dispatch({\n                type: 'SHOW_TOAST',\n                payload: {\n                  message: 'Your settings have been saved in local storage.',\n                  type: toastType.success,\n                  duration: 3000,\n                },\n              });\n            }}\n            color=\"primary\"\n          >\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Toast />\n    </div>\n  );\n}\n\nexport default Layout;\n","export function loadSetting(dispatch) {\n  let username = localStorage.getItem('username');\n  let password = localStorage.getItem('password');\n  let server = localStorage.getItem('server');\n  if (!username || !password || !server) {\n    dispatch({ type: 'SET_SETTING_DIALOG', payload: true });\n  } else {\n    dispatch({\n      type: 'SET_SETTING',\n      payload: {\n        username,\n        password,\n        server,\n      },\n    });\n    console.log('Setting is loaded.');\n  }\n}\n\nexport function saveSetting(setting, dispatch) {\n  // Close the setting dialog.\n  dispatch({ type: 'SET_SETTING_DIALOG', payload: false });\n  // Save to local storage\n  for (const [key, value] of Object.entries(setting)) {\n    localStorage.setItem(key, value);\n  }\n  // Save to global state\n  dispatch({ type: 'SET_SETTING', payload: setting });\n}\n","import React from 'react';\n\nconst NotFoundView = () => {\n  return <div>404</div>;\n};\n\nexport default NotFoundView;\n","import React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport Layout from './components/Layout';\nimport NotFoundView from './views/NotFoundView';\nimport Snippet from './components/Snippet';\n\nconst routes = [\n  {\n    path: '/',\n    element: <Layout />,\n    children: [\n      { path: '404', element: <NotFoundView /> },\n      { path: '/', element: <Snippet /> },\n      { path: '*', element: <Navigate to=\"/404\" /> },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\nimport { useEffect } from 'react';\nimport { useRoutes } from 'react-router-dom';\n\nimport { ThemeProvider } from '@material-ui/core';\nimport { mainTheme } from './theme';\nimport routes from './routes';\nimport Store from './store';\n\nconst App = () => {\n  useEffect(() => {\n    const e = document.getElementById('ipl-progress-indicator');\n    if (e) {\n      e.classList.add('available');\n      setTimeout(() => {\n        e.outerHTML = '';\n      }, 20);\n    }\n  }, []);\n  const routing = useRoutes(routes);\n  return (\n    <Store>\n      <ThemeProvider theme={mainTheme}>{routing}</ThemeProvider>\n    </Store>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}