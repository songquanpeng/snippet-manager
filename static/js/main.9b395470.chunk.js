(this["webpackJsonpsnippet-manager"]=this["webpackJsonpsnippet-manager"]||[]).push([[0],{138:function(e,t,a){},385:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),s=a.n(c),i=(a(138),a(9)),o=a(446),u=a(116),l=a(102),p=a.n(l),j=a(103),b=a.n(j),d=Object(u.a)({palette:{primary:p.a,secondary:b.a}}),O=(Object(u.a)({palette:{primary:{main:"#fbf1d3"},secondary:{main:"#fbf6e3"}}}),a(12)),h=a.n(O),f=a(17),g=a(11),x=a(426),m=a(441),v=a(435),S=a(439),T=a(447),y=a(440),w=a(445),k=a(443),C=a(444),E=a(442),I=a(29),_=a(117),N=a(431),L=a(432),D=a(433),R=a(106),A=a.n(R),G=a(107),P=a.n(G),W=a(72),z=a.n(W),B=a(434),H=a(108),M=a.n(H),F=a(50),U=a(109),J=a.n(U),K=a(450),Y=a(110),q=a.n(Y),Q=a(18),V=a(8),X=function(e,t){switch(t.type){case"SET_SETTING":return Object(V.a)(Object(V.a)({},e),{},{Setting:t.payload});case"SET_SETTING_DIALOG":return Object(V.a)(Object(V.a)({},e),{},{SettingDialog:t.payload});case"SET_SNIPPET_LIST":return Object(V.a)(Object(V.a)({},e),{},{SnippetList:t.payload});case"SET_TAG_LIST":return Object(V.a)(Object(V.a)({},e),{},{TagList:t.payload});case"SHOW_TOAST":return Object(V.a)(Object(V.a)({},e),{},{Toast:Object(V.a)(Object(V.a)(Object(V.a)({},e.action),t.payload),{},{open:!0})});case"CLOSE_TOAST":return Object(V.a)(Object(V.a)({},e),{},{Toast:Object(V.a)(Object(V.a)(Object(V.a)({},e.action),t.payload),{},{open:!1})});case"SET_TOKEN":return Object(V.a)(Object(V.a)({},e),{},{Token:t.payload});case"SET_CURRENT_TAG":return Object(V.a)(Object(V.a)({},e),{},{CurrentTag:t.payload});case"SET_CURRENT_SNIPPET":return Object(V.a)(Object(V.a)({},e),{},{CurrentSnippet:t.payload});default:return e}},Z=240,$=240,ee=64,te=1e3,ae="error",ne="info",re="success",ce=a(2),se={SettingDialog:!1,Token:"",Setting:{username:"",password:"",server:"https://code-snippet-manager.herokuapp.com"},Toast:{open:!1,message:"",duration:5e3,type:ne},TagList:[],SnippetList:[],CurrentTag:"",CurrentSnippet:""},ie=Object(n.createContext)(se),oe=function(e){var t=e.children,a=Object(n.useReducer)(X,se),r=Object(g.a)(a,2),c=r[0],s=r[1];return Object(ce.jsx)(ie.Provider,{value:[c,s],children:t})};var ue=Object(x.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(I.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(I.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Q.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Q.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(I.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(I.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(I.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},hide:{display:"none"}}}));function le(){var e=Object(n.useContext)(ie),t=Object(g.a)(e,2),a=(t[0],t[1]),c=ue(),s=r.a.useState(null),i=Object(g.a)(s,2),o=i[0],u=i[1],l=r.a.useState(null),p=Object(g.a)(l,2),j=p[0],b=p[1],d=Boolean(o),O=Boolean(j),h=function(e){u(e.currentTarget)},f=function(){b(null)},x=function(){u(null),f()},m="primary-search-account-menu",S=Object(ce.jsxs)(_.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:m,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:x,children:[Object(ce.jsx)(N.a,{onClick:function(){x(),a({type:"SET_SETTING_DIALOG",payload:!0})},children:"Setting"}),Object(ce.jsx)(N.a,{onClick:x,children:"Logout"})]}),T="primary-search-account-menu-mobile",y=Object(ce.jsxs)(_.a,{anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},id:T,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:O,onClose:f,children:[Object(ce.jsxs)(N.a,{children:[Object(ce.jsx)(L.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(ce.jsx)(D.a,{badgeContent:4,color:"secondary",children:Object(ce.jsx)(A.a,{})})}),Object(ce.jsx)("p",{children:"Messages"})]}),Object(ce.jsxs)(N.a,{children:[Object(ce.jsx)(L.a,{"aria-label":"show 11 new notifications",color:"inherit",children:Object(ce.jsx)(D.a,{badgeContent:11,color:"secondary",children:Object(ce.jsx)(P.a,{})})}),Object(ce.jsx)("p",{children:"Notifications"})]}),Object(ce.jsxs)(N.a,{onClick:h,children:[Object(ce.jsx)(L.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(ce.jsx)(z.a,{})}),Object(ce.jsx)("p",{children:"Profile"})]})]});return Object(ce.jsxs)("div",{className:c.grow,children:[Object(ce.jsx)(B.a,{position:"fixed",className:c.appBar,children:Object(ce.jsxs)(v.a,{children:[Object(ce.jsx)(L.a,{edge:"start",className:c.menuButton,color:"inherit","aria-label":"open drawer",children:Object(ce.jsx)(M.a,{})}),Object(ce.jsx)(F.a,{className:c.title,variant:"h6",noWrap:!0,children:"Snippet Manager"}),Object(ce.jsxs)("div",{className:c.search,children:[Object(ce.jsx)("div",{className:c.searchIcon,children:Object(ce.jsx)(J.a,{})}),Object(ce.jsx)(K.a,{placeholder:"Search\u2026",classes:{root:c.inputRoot,input:c.inputInput},inputProps:{"aria-label":"search"}})]}),Object(ce.jsx)("div",{className:c.grow}),Object(ce.jsx)("div",{className:c.sectionDesktop,children:Object(ce.jsx)(L.a,{edge:"end","aria-label":"account of current user","aria-controls":m,"aria-haspopup":"true",onClick:h,color:"inherit",children:Object(ce.jsx)(z.a,{})})}),Object(ce.jsx)("div",{className:c.sectionMobile,children:Object(ce.jsx)(L.a,{"aria-label":"show more","aria-controls":T,"aria-haspopup":"true",onClick:function(e){b(e.currentTarget)},color:"inherit",children:Object(ce.jsx)(q.a,{})})})]})}),y,S]})}var pe,je=a(430),be=a(386),de=a(437),Oe=a(438),he=a(111),fe=a.n(he),ge=a(436),xe=a(25),me=a(73),ve=a.n(me),Se=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Te=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.a.post("".concat(t.Setting.server,"/auth"),{username:t.Setting.username,password:t.Setting.password});case 3:if(n=e.sent,(r=n.data).code!==te){e.next=11;break}return c=r.data.token,a({type:"SET_TOKEN",payload:c}),e.abrupt("return",[!0,"",c]);case 11:return console.log(r),e.abrupt("return",[!1,"Failed to refresh token: code ".concat(r.code,"."),void 0]);case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(0),console.log(t),console.error(e.t0),e.abrupt("return",[!1,"Failed to refresh token: ".concat(e.t0.message,"."),void 0]);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}(),ye=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,r,c,s,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(n=t.Token)){e.next=10;break}return e.next=4,Te(t,a);case 4:r=e.sent,c=Object(g.a)(r,3),s=c[0],i=c[1],o=c[2],s?n=o:a({type:"SHOW_TOAST",payload:{message:i,type:ae}});case 10:return pe=ve.a.create({baseURL:t.Setting.server+"/api",headers:{Authorization:"Bearer ".concat(n)}}),e.abrupt("return",pe);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),we=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe){e.next=6;break}return console.log("refreshTagList waiting"),e.next=4,Se(50);case 4:e.next=0;break;case 6:return e.prev=6,e.next=9,pe.get("/tags");case 9:if(n=e.sent,(r=n.data).code!==te){e.next=17;break}return c=r.data,a({type:"SET_TAG_LIST",payload:c}),e.abrupt("return",[!0,""]);case 17:return e.abrupt("return",[!1,"Failed to refresh tag list: ".concat(r.message,".")]);case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(6),console.error(e.t0),e.abrupt("return",[!1,"Failed to refresh tag list: ".concat(e.t0.message,".")]);case 24:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t,a){return e.apply(this,arguments)}}(),ke=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""===(n=t.CurrentTag)&&(n=t.TagList[0].ID),e.prev=2,e.next=5,pe.get("/tag/".concat(n));case 5:if(r=e.sent,(c=r.data).code!==te){e.next=14;break}return null===(s=c.data)&&(s=[]),a({type:"SET_SNIPPET_LIST",payload:s}),e.abrupt("return",[!0,""]);case 14:return e.abrupt("return",[!1,"Failed to refresh snippet list: ".concat(c.message,".")]);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",[!1,"Failed to refresh snippet list: ".concat(e.t0.message,".")]);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t,a){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe){e.next=5;break}return e.next=3,Se(50);case 3:e.next=0;break;case 5:if(""===(a=t.CurrentSnippet)){e.next=22;break}return e.prev=7,e.next=10,pe.get("/snippet/".concat(a));case 10:if(n=e.sent,(r=n.data).code!==te){e.next=16;break}return e.abrupt("return",[!0,r.data.snippet]);case 16:console.error("Failed to fetch snippet: ".concat(r.message,"."));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),console.error(e.t0);case 22:return e.abrupt("return",[!1,void 0]);case 23:case"end":return e.stop()}}),e,null,[[7,19]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a&&(a=!1),n=!1,r="",e.prev=3,!a){e.next=10;break}return e.next=7,pe.post("/snippet",t);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,pe.put("/snippet",t);case 12:e.t0=e.sent;case 13:c=e.t0,(s=c.data).code===te&&(n=!0),r=s.message,e.next=23;break;case 19:e.prev=19,e.t1=e.catch(3),console.error(e.t1),r=e.t1;case 23:return e.abrupt("return",[n,r]);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t,a){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,n="",e.prev=2,e.next=5,pe.delete("/snippet/".concat(t));case 5:r=e.sent,(c=r.data).code===te&&(a=!0),n=c.message,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0),n=e.t0;case 15:return e.abrupt("return",[a,n]);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),_e=Z,Ne=Object(x.a)((function(e){return{drawer:{width:_e,flexShrink:0},drawerPaper:{width:_e},drawerContainer:{overflow:"auto"}}}));function Le(){var e=Object(n.useContext)(ie),t=Object(g.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){""!==a.Setting.username&&Object(f.a)(h.a.mark((function e(){var t,n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(a,r);case 2:t=e.sent,n=Object(g.a)(t,2),c=n[0],s=n[1],c||r({type:"SHOW_TOAST",payload:{message:s,type:ae}});case 7:case"end":return e.stop()}}),e)})))()}),[a.Setting]);var c=Ne();return Object(ce.jsxs)(ge.a,{className:c.drawer,variant:"permanent",classes:{paper:c.drawerPaper},children:[Object(ce.jsx)(v.a,{}),Object(ce.jsx)("div",{className:c.drawerContainer,children:Object(ce.jsx)(je.a,{children:a.TagList.map((function(e,t){return Object(ce.jsxs)(be.a,{button:!0,component:xe.b,to:"/tag/".concat(e.Text),onClick:function(){r({type:"SET_CURRENT_TAG",payload:e.ID})},children:[Object(ce.jsx)(de.a,{children:Object(ce.jsx)(fe.a,{})}),Object(ce.jsx)(Oe.a,{primary:e.Text})]},e.ID)}))})})]})}var De=a(75),Re=Object(x.a)((function(e){return{root:{height:"100%",width:$,marginTop:ee,position:"fixed",top:0,left:Z}}}));function Ae(){var e=Object(n.useContext)(ie),t=Object(g.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){0!==a.TagList.length&&Object(f.a)(h.a.mark((function e(){var t,n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(a,r);case 2:t=e.sent,n=Object(g.a)(t,2),c=n[0],s=n[1],c||r({type:"SHOW_TOAST",payload:{message:s,type:ae}});case 7:case"end":return e.stop()}}),e)})))()}),[a.TagList,a.CurrentTag]);var c=Re();return Object(ce.jsx)(De.a,{className:c.root,children:Object(ce.jsx)(je.a,{children:a.SnippetList.map((function(e,t){return Object(ce.jsx)(be.a,{button:!0,component:xe.b,to:"/snippet/".concat(e.ID),onClick:function(){r({type:"SET_CURRENT_SNIPPET",payload:e.ID})},children:Object(ce.jsx)(Oe.a,{primary:e.Title})},e.ID)}))})})}var Ge=a(112),Pe=a.n(Ge),We=(a(170),a(171),a(172),a(114)),ze=a.n(We),Be=a(115),He=a.n(Be),Me=a(387),Fe=a(113),Ue=a.n(Fe),Je=a(74),Ke=a.n(Je),Ye=function(e){for(var t=e.split("\n"),a=0,n=0,r=2;r<t.length;r++)if(t[r].trim().startsWith("```")){if(0!==a){n=r;break}a=r}for(var c=0,s=n+1;s<t.length;s++)if(t[s].trim()){c=t[s].trim().startsWith("#")?s+1:s;break}return{Language:t[a].substr(3).trim(),Title:t[0].substr(1).trim(),Code:t.slice(a+1,n).join("\n"),Description:t.slice(c).join("\n"),Tags:t[1].split(" ").slice(1).join(" ")}},qe=r.a.forwardRef((function(e,t){return Object(ce.jsx)(Me.a,Object(V.a)({direction:"up",ref:t},e))}));var Qe=function(){var e=Object(n.useContext)(ie),t=Object(g.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({Language:"",Code:"",Tags:"",Description:"",Title:"",ID:""}),s=Object(g.a)(c,2),i=s[0],o=s[1],u=Object(n.useState)(""),l=Object(g.a)(u,2),p=l[0],j=l[1],b=Object(n.useState)({theme:"solarized_light",fontSize:18,show:!1}),d=Object(g.a)(b,2),O=d[0],x=d[1],m=Object(n.useState)(),T=Object(g.a)(m,2),w=T[0],k=T[1];Object(n.useEffect)((function(){N(O,x)}),[]),Object(n.useEffect)((function(){j(Ke()(i.Description))}),[i]),Object(n.useEffect)((function(){Object(f.a)(h.a.mark((function e(){var t,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(a);case 2:t=e.sent,n=Object(g.a)(t,2),r=n[0],c=n[1],r&&o(c);case 7:case"end":return e.stop()}}),e)})))()}),[a.CurrentSnippet]);var C=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ye(w),t=Object(V.a)(Object(V.a)({},i),t),o(t),i.Description!==t.Description&&j(Ke()(t.Description)),a="/snippet"===window.location.pathname,console.log("isNewSnippet ",a),e.next=8,Ee(t,a);case 8:n=e.sent,r=Object(g.a)(n,2),c=r[0],s=r[1],I(c?"Snippet has been updated.":s,c?re:ae);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(i.ID);case 2:t=e.sent,a=Object(g.a)(t,2),n=a[0],r=a[1],I(n?"Snippet has been deleted.":r,n?re:ae);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e,t){void 0===t&&(t=re),r({type:"SHOW_TOAST",payload:{message:e,type:t,duration:t===ae?6e3:2e3}})},_=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(i.Code);case 3:I("Snippet copied."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),I(e.t0,ae);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=localStorage.getItem("theme");e||(e=O.theme);var t=localStorage.getItem("fontSize");(t=parseInt(t))||(t=O.fontSize),x(Object(V.a)(Object(V.a)({},O),{},{theme:e,fontSize:t}))};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)("div",{children:[Object(ce.jsx)(S.a,{variant:"contained",color:"secondary",onClick:E,style:{marginRight:8,marginBottom:16},children:"Delete Snippet"}),Object(ce.jsx)(S.a,{variant:"contained",style:{marginRight:8,marginBottom:16},onClick:function(){x(Object(V.a)(Object(V.a)({},O),{},{show:!0})),k(function(e){return"# ".concat(e.Title,"\nTags: ").concat(e.Tags,"\n\n## Code\n``` ").concat(e.Language,"\n").concat(e.Code,"\n```\n\n## Description\n").concat(e.Description)}(i))},children:"Edit Snippet"}),Object(ce.jsx)(S.a,{variant:"contained",onClick:_,style:{marginRight:8,marginBottom:16},children:"Copy Code"}),Object(ce.jsx)(S.a,{variant:"contained",color:"primary",style:{marginRight:8,marginBottom:16},component:xe.b,to:"/snippet",children:"New Snippet"})]}),Object(ce.jsxs)(De.a,{style:{padding:16},children:[Object(ce.jsx)(F.a,{variant:"h4",gutterBottom:!0,children:i.Title}),Object(ce.jsx)(Ue.a,{className:i.Language,children:i.Code}),Object(ce.jsx)("div",{dangerouslySetInnerHTML:{__html:p}})]}),Object(ce.jsxs)(y.a,{fullScreen:!0,open:O.show,onClose:function(){x(Object(V.a)(Object(V.a)({},O),{},{show:!1}))},TransitionComponent:qe,children:[Object(ce.jsx)(B.a,{position:"relative",style:{background:"#fbf1d3",boxShadow:"none"},children:Object(ce.jsxs)(v.a,{children:[Object(ce.jsx)(L.a,{edge:"start",color:"inherit",onClick:function(){x(Object(V.a)(Object(V.a)({},O),{},{show:!1}))},"aria-label":"close",children:Object(ce.jsx)(ze.a,{style:{fill:"#000"}})}),Object(ce.jsx)(L.a,{"aria-label":"save",color:"inherit",onClick:C,children:Object(ce.jsx)(He.a,{style:{fill:"#000"}})})]})}),Object(ce.jsx)(Pe.a,{style:{width:"100%",height:"100%"},mode:"markdown",theme:O.theme,name:"editor",onChange:function(e){var t=e;localStorage.setItem("editorContent",t),k(t)},value:w,fontSize:O.fontSize,setOptions:{useWorker:!1}})]})]})},Ve=function(e){var t=Object(n.useState)(e),a=Object(g.a)(t,2),r=a[0],c=a[1];return[r,c,function(e){"server"===e.target.name&&e.target.value.endsWith("/")&&(e.target.value=e.target.value.slice(0,-1)),c(Object(V.a)(Object(V.a)({},r),{},Object(I.a)({},e.target.name,e.target.value)))}]},Xe=a(449),Ze=a(448);function $e(e){return Object(ce.jsx)(Ze.a,Object(V.a)({elevation:6,variant:"filled"},e))}function et(){var e=Object(n.useContext)(ie),t=Object(g.a)(e,2),a=t[0],r=t[1],c=function(e,t){"clickaway"!==t&&r({type:"CLOSE_TOAST",payload:{}})};return Object(ce.jsx)(Xe.a,{open:a.Toast.open,autoHideDuration:a.Toast.duration,onClose:c,children:Object(ce.jsx)($e,{onClose:c,severity:a.Toast.type,children:a.Toast.message})})}var tt=Object(x.a)((function(e){return{root:{display:"flex"},content:{padding:e.spacing(3),marginLeft:$,width:"100%",height:"100%"}}}));var at=function(){var e=Object(n.useContext)(ie),t=Object(g.a)(e,2),a=t[0],r=t[1],c=Ve(a.Setting),s=Object(g.a)(c,3),i=s[0],o=s[1],u=s[2];Object(n.useEffect)((function(){!function(e){var t=localStorage.getItem("username"),a=localStorage.getItem("password"),n=localStorage.getItem("server");e(t&&a&&n?{type:"SET_SETTING",payload:{username:t,password:a,server:n}}:{type:"SET_SETTING_DIALOG",payload:!0})}(r)}),[]),Object(n.useEffect)((function(){""!==a.Setting.username&&(o(a.Setting),ye(a,r))}),[a.Setting]);var l=tt();return Object(ce.jsxs)("div",{className:l.root,children:[Object(ce.jsx)(m.a,{}),Object(ce.jsx)(le,{}),Object(ce.jsx)(Le,{}),Object(ce.jsx)(Ae,{}),Object(ce.jsxs)("main",{className:l.content,children:[Object(ce.jsx)(v.a,{}),Object(ce.jsx)(Qe,{})]}),Object(ce.jsxs)(y.a,{open:a.SettingDialog,onClose:function(){r({type:"SET_SETTING_DIALOG",payload:!1})},"aria-labelledby":"form-dialog-title",children:[Object(ce.jsx)(E.a,{id:"form-dialog-title",children:"Setting"}),Object(ce.jsxs)(k.a,{children:[Object(ce.jsx)(C.a,{children:"Tips: you can use a localhost server."}),Object(ce.jsx)(T.a,{margin:"dense",name:"username",label:"Username",type:"text",value:i.username,onChange:u,fullWidth:!0}),Object(ce.jsx)(T.a,{margin:"dense",name:"password",label:"Password",type:"password",value:i.password,onChange:u,fullWidth:!0}),Object(ce.jsx)(T.a,{margin:"dense",name:"server",label:"Server Address",type:"url",value:i.server,onChange:u,fullWidth:!0})]}),Object(ce.jsxs)(w.a,{children:[Object(ce.jsx)(S.a,{onClick:Object(f.a)(h.a.mark((function e(){var t,a,n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te({Setting:i},r);case 2:t=e.sent,a=Object(g.a)(t,3),n=a[0],c=a[1],a[2],s=ae,n&&(c="Your setting is okay.",s=re),r({type:"SHOW_TOAST",payload:{message:c,type:s,duration:n?3e3:6e3}});case 10:case"end":return e.stop()}}),e)}))),color:"primary",children:"Test"}),Object(ce.jsx)(S.a,{onClick:function(){!function(e,t){t({type:"SET_SETTING_DIALOG",payload:!1});for(var a=0,n=Object.entries(e);a<n.length;a++){var r=Object(g.a)(n[a],2),c=r[0],s=r[1];localStorage.setItem(c,s)}t({type:"SET_SETTING",payload:e})}(i,r),r({type:"SHOW_TOAST",payload:{message:"Your settings have been saved in local storage.",type:re,duration:3e3}})},color:"primary",children:"Save"})]})]}),Object(ce.jsx)(et,{})]})},nt=function(){return Object(ce.jsx)("div",{children:"404"})},rt=[{path:"/",element:Object(ce.jsx)(at,{}),children:[{path:"404",element:Object(ce.jsx)(nt,{})},{path:"/",element:Object(ce.jsx)(Qe,{})},{path:"*",element:Object(ce.jsx)(i.a,{to:"/404"})}]}],ct=function(){Object(n.useEffect)((function(){var e=document.getElementById("ipl-progress-indicator");e&&(e.classList.add("available"),setTimeout((function(){e.outerHTML=""}),20))}),[]);var e=Object(i.h)(rt);return Object(ce.jsx)(oe,{children:Object(ce.jsx)(o.a,{theme:d,children:e})})};s.a.render(Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(r.a.StrictMode,{children:Object(ce.jsx)(ct,{})})}),document.getElementById("root"))}},[[385,1,2]]]);
//# sourceMappingURL=main.9b395470.chunk.js.map